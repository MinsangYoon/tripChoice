--김준욱-- 1. -유저정보 테이블-
create table tuser(
tu_id varchar(50) not null primary key, 
tu_pw varchar(50) not null, 
tu_name varchar(20) not null, 
tu_email varchar(50) not null, 
tu_phone varchar(20) not null, 
tu_zipcode varchar(10),
tu_address varchar(50) not null, 
tu_address2 varchar(50) not null,
tu_joindate date default now(), 
tu_rank varchar(20) default 'nomal' not null);

--김준욱-- 2. -항공기 테이블-
create table t_airp(
    ta_code varchar(50) not null primary key,
    ta_dep varchar(50)  not null,
    ta_arr varchar(50)  not null,
    ta_pax int(10)  not null,
    ta_flightnum varchar(50)  not null,
    ta_sdate datetime not null,
    ta_fdate datetime  not null,
    trip_code varchar(50)
);


--이병훈-- 3. 여행상품  테이블
create table trip(
  trip_no        int(10)       not null auto_increment  primary key  -- 글번호
 ,trip_code     varchar(50)    not null                         -- 상품코드
 ,trip_area     varchar(10)   not null                         -- 지역
 ,trip_name     varchar(100)  not null                            -- 상품명
 ,trip_content  varchar(200)  not null                            -- 상품상세내용(스마트에디터)
 ,trip_cost1    varchar(50)    not null                            -- 성인가격
 ,trip_cost2    varchar(50)    not null                            -- 청소년가격
 ,trip_cost3    varchar(50)    not null                            -- 유아가격
 ,trip_possible int(100)        not null                            -- 패키지예약가능인원
 ,trip_airpcost varchar(100)  not null                            -- 항공권가격
 ,trip_bedcost  varchar(100) not null                            -- 숙소가격
 ,trip_situation varchar(50)  not null                            -- 예약진행상황
);


--윤민상 -- --4. 숙소정보테이블 생성
CREATE TABLE t_hotel (
    th_code   VARCHAR(250) NOT NULL PRIMARY KEY
   ,th_name  VARCHAR(50) NOT NULL
   ,th_room   VARCHAR(50) NOT NULL
   ,th_reg     VARCHAR(50) NOT NULL
   ,th_content TEXT(65535)   NOT NULL
   ,th_max    INT           NOT NULL
   ,th_situation VARCHAR(50) NOT NULL DEFAULT 'Y'
);


--윤민상-- -- 5. 숙소예약테이블 생성
CREATE TABLE hotel_reser (
    thr_num INT NOT NULL AUTO_INCREMENT PRIMARY KEY
   ,th_code     VARCHAR(250) NOT NULL 
   ,tu_id        VARCHAR(50) NOT NULL
   ,thr_member INT NOT NULL
   ,thr_in       VARCHAR(50)  NULL
   ,thr_out     VARCHAR(50)  NULL
   ,trip_code    VARCHAR(50) NOT NULL
   ,FOREIGN KEY(trip_code) REFERENCES trip(trip_code)
   ,FOREIGN KEY(tu_id) REFERENCES tuser(tu_id)
   ,FOREIGN KEY(th_code) REFERENCES t_hotel(th_code)
);

--유영승-- 6. 상품예약테이블
create table trip_reser(
tr_code   int not null  primary key auto_increment,
trip_code varchar(50) not null,
tu_id       varchar(50) not null,
tr_adult    int not null,
tr_kid       int not null,
tr_baby     int not null,
tr_price   int  not null,
tr_resdate   date    not null,
tr_departure datetime   not null,
tr_arrival      datetime   not null,
tr_buy        varchar(50) not null default 'N'
,FOREIGN KEY(trip_code) REFERENCES trip(trip_code)
,FOREIGN KEY(tu_id) REFERENCES tuser(tu_id)
);

--유영승 --7. 항공권 예약 테이블
create table airp_reser(
tar_code   varchar(250) not null primary key,
ta_code   varchar(50) not null,
tar_seat    varchar(50) not null,
tu_id      varchar(50) not null,
tar_name    varchar(50) not null,
tar_passcode varchar(50) not null
);

--송찬우-- 문의테이블 생성
CREATE TABLE t_question (
	trq_no INT NOT NULL AUTO_INCREMENT PRIMARY KEY -- 글번호
	,trq_sub VARCHAR(50) NOT NULL 	-- 질문제목
	,tu_id VARCHAR(50) NOT NULL 	-- 작성자id
	,trq_pw VARCHAR(50) NOT NULL 	-- 비밀번호
	,trq_con VARCHAR(100) NOT NULL 	-- 질문내용
	,trq_comcon VARCHAR(100) NOT NULL 	-- 답변내용
	,trq_cnt INT  DEFAULT 0 NOT NULL 	-- 조회수
	,trq_date DATETIME NOT NULL 	-- 질문날짜
	,trq_comdate DATE NOT NULL 	-- 답변날짜
	,FOREIGN KEY (tu_id) REFERENCES tuser(tu_id)
);

--송찬우-- 리뷰테이블 생성
CREATE TABLE t_review (
	trv_no INT NOT NULL AUTO_INCREMENT PRIMARY KEY -- 글번호
	,trv_sub VARCHAR(50) NOT NULL 	-- 리뷰제목
	,tu_id VARCHAR(50) NOT NULL 	-- 작성자id
	,trip_code VARCHAR(50) NOT NULL 	-- 상품코드
	,trv_con VARCHAR(100) NOT NULL 	-- 리뷰내용
	,trv_pw VARCHAR(50) NOT NULL 	-- 비밀번호
	,trv_date DATETIME NOT NULL 	-- 리뷰날짜
	,trv_score VARCHAR(20) NOT NULL 	-- 별점
	,trv_cnt INT DEFAULT 0 NOT NULL 	-- 조회수
	,FOREIGN KEY(tu_id) REFERENCES tuser(tu_id)
	,FOREIGN KEY(trip_code) REFERENCES trip(trip_code)
);

-- 이병훈 -- 자주찾는 질문 테이블
create table tbrq(
  tbrq_no   int(4)          not null  auto_increment primary key -- 글번호
 ,tbrq_sub  varchar(20)   not null                                      -- 제목
 ,tbrq_con  varchar(200) not null                                      -- 내용
 ,tbrq_cnt  int(10)         not null                                      -- 조회수
 ,tbrq_date date           not null                                      -- 작성일 
);


-- 문의사항 테이블
	create table trq(
	trq_no int(4) NOT NULL auto_increment primary key 	 
    ,trq_sub varchar(20) NOT null		 	 			
	,trq_con varchar(200) NOT null		
	,trq_date date not null		
);

drop table trq;

--  리뷰 테이블
	create table trv(
	trv_no int(4) NOT NULL auto_increment primary key 	 
    ,trv_sub varchar(20) NOT null		 	 			
	,trv_con varchar(200) NOT null		
	,trv_date date not null		
);

-- 여행 상품 테이블 ( 내 버전 )
create table trip(
 trip_code     varchar(50)    not null primary key       -- 상품코드
 ,trip_area     varchar(10)   not null                         -- 지역
 ,trip_name     varchar(100)  not null                            -- 상품명
 ,trip_content  TEXT(65535)  not null                            -- 상품상세내용(스마트에디터)
 ,trip_cost1    int(100)    not null                            -- 성인가격
 ,trip_cost2    int(100)    not null                            -- 청소년가격
 ,trip_cost3    int(100)    not null                            -- 유아가격
 ,trip_possible int(100)        not null                            -- 패키지예약가능인원
 ,trip_airpcost int(100)   null                            -- 항공권가격
 ,trip_bedcost  int(100)  null                            -- 숙소가격
 ,trip_situation varchar(50)  not null default 'Y'             -- 예약진행상황
 ,trip_thumbnail varchar(100) null		
);
